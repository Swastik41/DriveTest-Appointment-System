<!DOCTYPE html>
<html lang="en">
<%- include('layouts/header') %>

<body>
  <!-- Navigation -->
  <%- include('layouts/navbar') %>

  <!-- Page Header -->
  <header class="masthead" style="background-color: black;">
    <div class="container position-relative px-4 px-lg-5">
      <div class="row justify-content-center">
        <div class="col-md-10 text-center">
          <div class="page-heading">
            <h1 class="display-5 text-white">ğŸ“‹ Booked Appointments</h1>
            <span class="subheading text-light">Overview of all G2 Test Bookings</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="my-5">
    <div class="container px-4 px-lg-5">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-primary text-white text-center py-3">
          <h3 class="mb-0">Booked G2 Appointments</h3>
        </div>
        <div class="card-body p-4">
          <% if (appointments.length === 0) { %>
            <div class="alert alert-warning text-center">
              No appointments have been booked yet.
            </div>
          <% } else { %>
            <div class="table-responsive">
              <table class="table table-hover align-middle text-center">
                <thead class="table-dark">
                  <tr>
                    <th scope="col">ğŸ“… Date</th>
                    <th scope="col">â° Time</th>
                    <th scope="col">ğŸ‘¤ Driver Name</th>
                    <th scope="col">ğŸªª License No</th>
                  </tr>
                </thead>
                <tbody>
                  <% appointments.forEach(a => { %>
                    <tr>
                      <td><%= a.date %></td>
                      <td><%= a.time %></td>
                      <td><%= a.bookedBy ? a.bookedBy.firstName + ' ' + a.bookedBy.lastName : 'N/A' %></td>
                      <td><%= a.bookedBy?.licenseNo || 'N/A' %></td>
                    </tr>
                  <% }) %>
                </tbody>
              </table>
            </div>
          <% } %>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <%- include('layouts/footer') %>
  <%- include('layouts/scripts') %>
</body>

</html>
